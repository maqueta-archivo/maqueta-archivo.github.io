<!DOCTYPE html>
<html>

<head>
  <title>Pamplona AR</title>
  <link rel="icon" type="image/x-icon" href="../Images/favicon.ico">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="../Scripts/Libraries/AFrame/1.3.0/aframe.min.js"></script>
  <script src="../Scripts/Libraries/AFrame/Extras/6.1.1/aframe-extras.min.js"></script>
  <script src="../Scripts/Libraries/MindAR/1.2/mindar-image-aframe.prod.js"></script>

  <script src="../Scripts/Components/Fullscreen/platform.js"></script>
  <script src="../Scripts/Components/Fullscreen/aframe-always-fullscreen-component.js"></script>

  <script src="../Scripts/Components/aframe-resize-update-component.js"></script>

  <script src="../Scripts/Primitives/aframe-interactive-model-primitive.js" type="module"></script>
  <script src="../Scripts/Components/aframe-trigger-visible-component.js"></script>

  <link rel="stylesheet" href="../Style/style.css">
</head>

<body>
  <a-scene
    mindar-image="imageTargetSrc: ../Targets/targets_three.mind; maxTrack: 1 filterMinCF:0.0001; filterBeta: 0.001"
    color-space="sRGB" renderer="colorManagement: true; physicallyCorrectLights: false" vr-mode-ui="enabled: false"
    device-orientation-permission-ui="enabled: false" update-resize stats light="defaultLightsEnabled: true"
    data-aframe-default-light>
    <a-assets>
      <a-asset-item id="pamplonaModelObj" src="../Models/Pamplona_3D_Low_V00.obj"></a-asset-item>

      <a-asset-item id="EdificioArchivo" src="../Models/Edificio_Archivo_3D_Test.glb"></a-asset-item>
      <a-asset-item id="SelloArchivo" src="../Models/Sello_3D_01.glb"></a-asset-item>

    </a-assets>

    <a-camera position="0 0 0" look-controls="enabled: false" cursor="fuse: false; rayOrigin: mouse;"
      raycaster="far: ${customFields.libVersion}; objects: .clickable"></a-camera>

    <a-entity mindar-image-target="targetIndex: 1" id="TargetSelloArchivo">
      <a-interactive-model model="#SelloArchivo" rotation-sensibility=2 zoom-sensibility=1 max-zoom=1.5
        min-zoom=0.5 nested-scale="0.2 0.2 0.2" target="#TargetSelloArchivo"></a-interactive-model>
    </a-entity>

    <a-entity mindar-image-target="targetIndex: 2" id="TargetMaquetaArchivo">
      <a-interactive-model model="#EdificioArchivo" nested-scale="1 1 1" rotation-sensibility=2 max-rotation-x=30
        min-rotation-x=-30 zoom-sensibility=1 max-zoom=1.5 min-zoom=0.5
        target="#TargetMaquetaArchivo"></a-interactive-model>
    </a-entity>

    <a-entity mindar-image-target="targetIndex: 0" trigger-visibility="entity: #MaquetaPamplona">
    </a-entity>

    <a-obj-model id="MaquetaPamplona" rotation="20 0 0" position="5 -1 -12" scale="100 100 100" src="#pamplonaModelObj"
    material="src: ../Textures/Pamplona_3D_Color2.png; opacity: 0.99; wireframe: false; wireframeLinewidth: 2; offset: 0 0.5; emissive: #4ABFFF; emissiveIntensity: 1"
    hologram-shader="offsetSpeed: 0.25; minEmissive: 0.3; maxEmissive: 1; minOffset: -1; maxOffset: 1"
    animation="property: position; to: 5 -0.5 -12; dur: 2000; easing: easeInOutQuad; loop: true; dir: alternate"
    visible="false"></a-obj-model>
  </a-scene>
</body>

</html>